(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"BY/Q":function(e,t,o){"use strict";o.r(t);var r=o("PCNd"),n=o("3Pt+"),i=o("tyNb"),a=o("tk/3"),s=o("LRne"),c=o("HDdC"),b=o("vkgz"),l=o("JIr8"),d=o("lJxs"),g=o("fXoL");let p=(()=>{class e{constructor(e){this.http=e,this.bookUrl="api/books"}getBooks(){return this.http.get(this.bookUrl).pipe(Object(b.a)(e=>console.log("All: "+JSON.stringify(e))),Object(l.a)(this.handleError))}getBook(e){return 0===e?Object(s.a)(this.initializeBook()):this.http.get(`${this.bookUrl}/${e}`).pipe(Object(b.a)(e=>console.log("getProduct: "+JSON.stringify(e))),Object(l.a)(this.handleError))}createBook(e){const t=new a.d({"Content-Type":"application/json"});return e.id=null,this.http.post(this.bookUrl,e,{headers:t}).pipe(Object(b.a)(e=>console.log("CreateProduct: "+JSON.stringify(e))),Object(l.a)(this.handleError))}handleError(e){let t;return t=e.error instanceof ErrorEvent?`An error occured: ${e.error.message}`:`server returned code ${e.status}, error message is : ${e.body.error}`,console.log(t),o=t,new c.a(e=>e.error(o));var o}updateBook(e){const t=new a.d({"Content-Type":"application/json"});return this.http.put(`${this.bookUrl}/${e.id}`,e,{headers:t}).pipe(Object(b.a)(()=>console.log("update Book: "+e.id)),Object(d.a)(()=>e),Object(l.a)(this.handleError))}deleteBook(e){const t=new a.d({"Content-Type":"application/json"});return this.http.delete(`${this.bookUrl}/${e}`,{headers:t}).pipe(Object(b.a)(t=>console.log("delete product : "+e)),Object(l.a)(this.handleError))}initializeBook(){return{id:0,bookName:null,bookCode:null,category:null,tags:[],releaseDate:null,description:null,price:null,starRating:null,imageUrl:null}}}return e.\u0275fac=function(t){return new(t||e)(g.Tb(a.b))},e.\u0275prov=g.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=o("ofXK");let h=(()=>{class e{constructor(){this.starWidth=0,this.RatingClicked=new g.n}ngOnChanges(){this.starWidth=75*this.rating/5}onClick(){this.RatingClicked.emit(`The rating clicked is ${this.rating}`)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g.Gb({type:e,selectors:[["bm-star"]],inputs:{rating:"rating"},outputs:{RatingClicked:"RatingClicked"},features:[g.Ab()],decls:7,vars:3,consts:[[1,"crop",3,"title","click"],[2,"width","75px","color","#ffc34d"],[1,"fa","fa-star"]],template:function(e,t){1&e&&(g.Pb(0,"div",0),g.Xb("click",(function(){return t.onClick()})),g.Pb(1,"div",1),g.Nb(2,"span",2),g.Nb(3,"span",2),g.Nb(4,"span",2),g.Nb(5,"span",2),g.Nb(6,"span",2),g.Ob(),g.Ob()),2&e&&(g.nc("width",t.starWidth,"px"),g.ec("title",t.rating))},styles:[".crop[_ngcontent-%COMP%]{overflow:hidden}div[_ngcontent-%COMP%]{cursor:pointer}"]}),e})(),f=(()=>{class e{transform(e,t){return e.replace(t," ")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=g.Lb({name:"covertToSpaces",type:e,pure:!0}),e})();function k(e,t){if(1&e&&(g.Pb(0,"div",3),g.Pb(1,"div",11),g.Pb(2,"h4"),g.pc(3),g.Ob(),g.Ob(),g.Ob()),2&e){const e=g.Zb();g.Cb(3),g.rc("Filtered by: ",e.listFilter,"")}}function m(e,t){if(1&e&&g.Nb(0,"img",19),2&e){const e=g.Zb().$implicit,t=g.Zb(2);g.nc("width",t.imageWidth,"px")("margin",t.imageMargin,"px"),g.ec("src",e.imageUrl,g.lc)("title",e.bookName)}}const O=function(e){return["/books",e]},v=function(e,t){return{filterBy:e,showImage:t}},P=function(e){return["/books",e,"edit"]};function C(e,t){if(1&e){const e=g.Qb();g.Pb(0,"tr"),g.Pb(1,"td"),g.oc(2,m,1,6,"img",15),g.Ob(),g.Pb(3,"td"),g.Pb(4,"a",16),g.pc(5),g.Ob(),g.Ob(),g.Pb(6,"td"),g.pc(7),g.ac(8,"covertToSpaces"),g.ac(9,"lowercase"),g.Ob(),g.Pb(10,"td"),g.pc(11),g.Ob(),g.Pb(12,"td"),g.pc(13),g.ac(14,"currency"),g.Ob(),g.Pb(15,"td"),g.Pb(16,"bm-star",17),g.Xb("RatingClicked",(function(t){return g.kc(e),g.Zb(2).onRatingClicked(t)})),g.Ob(),g.Ob(),g.Pb(17,"td"),g.Pb(18,"button",18),g.pc(19,"Edit"),g.Ob(),g.Ob(),g.Ob()}if(2&e){const e=t.$implicit,o=g.Zb(2);g.Cb(2),g.ec("ngIf",o.showImage&&e.imageUrl),g.Cb(2),g.ec("routerLink",g.gc(19,O,e.id))("queryParams",g.hc(21,v,o.listFilter,o.showImage)),g.Cb(1),g.qc(e.bookName),g.Cb(2),g.qc(g.cc(8,9,g.bc(9,12,e.bookCode),"-")),g.Cb(4),g.qc(e.releaseDate),g.Cb(2),g.qc(g.dc(14,14,e.price,"INR","symbol","1.2-2")),g.Cb(3),g.ec("rating",e.starRating),g.Cb(2),g.ec("routerLink",g.gc(24,P,e.id))}}function y(e,t){if(1&e){const e=g.Qb();g.Pb(0,"table",12),g.Pb(1,"thead"),g.Pb(2,"tr"),g.Pb(3,"th"),g.Pb(4,"button",13),g.Xb("click",(function(){return g.kc(e),g.Zb().toggleImage()})),g.pc(5),g.Ob(),g.Ob(),g.Pb(6,"th"),g.pc(7,"Book"),g.Ob(),g.Pb(8,"th"),g.pc(9,"Code"),g.Ob(),g.Pb(10,"th"),g.pc(11,"Available"),g.Ob(),g.Pb(12,"th"),g.pc(13,"Price"),g.Ob(),g.Pb(14,"th"),g.pc(15,"Rating"),g.Ob(),g.Nb(16,"th"),g.Ob(),g.Ob(),g.Pb(17,"tbody"),g.oc(18,C,20,26,"tr",14),g.Ob(),g.Ob()}if(2&e){const e=g.Zb();g.Cb(5),g.rc("",e.showImage?"Hide":"Show"," Image"),g.Cb(13),g.ec("ngForOf",e.filteredBooks)}}function w(e,t){if(1&e&&(g.Pb(0,"div",20),g.pc(1),g.Ob()),2&e){const e=g.Zb();g.Cb(1),g.rc(" Error: ",e.errorMessage,"\n")}}let M=(()=>{class e{constructor(e,t){this.bookService=e,this.route=t,this.imageWidth=75,this.imageMargin=7,this.showImage=!1,this.filteredBooks=[],this.books=[]}get listFilter(){return this._listFilter}set listFilter(e){this._listFilter=e,this.filteredBooks=this.listFilter?this.performFilter(this.listFilter):this.books}onRatingClicked(e){this.pageTitle="Book List "+e}ngOnInit(){this.listFilter=this.route.snapshot.queryParamMap.get("filterBy")||"",this.showImage="true"===this.route.snapshot.queryParamMap.get("showImage"),this.bookService.getBooks().subscribe({next:e=>{this.books=e,this.filteredBooks=this.performFilter(this.listFilter)},error:e=>this.errorMessage=e})}performFilter(e){return e=e.toLocaleLowerCase(),this.books.filter(t=>-1!==t.bookName.toLocaleLowerCase().indexOf(e))}toggleImage(){this.showImage=!this.showImage}}return e.\u0275fac=function(t){return new(t||e)(g.Mb(p),g.Mb(i.a))},e.\u0275cmp=g.Gb({type:e,selectors:[["ng-component"]],decls:13,vars:5,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-2"],[1,"col-md-4"],["type","text",3,"ngModel","ngModelChange"],["class","row",4,"ngIf"],[1,"table-responsive"],["class","table mb-0",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"col-md-6"],[1,"table","mb-0"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[4,"ngFor","ngForOf"],[3,"src","title","width","margin",4,"ngIf"],[3,"routerLink","queryParams"],[3,"rating","RatingClicked"],[1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],[3,"src","title"],[1,"alert","alert-danger"]],template:function(e,t){1&e&&(g.Pb(0,"div",0),g.Pb(1,"div",1),g.pc(2),g.Ob(),g.Pb(3,"div",2),g.Pb(4,"div",3),g.Pb(5,"diV",4),g.pc(6,"Filter by:"),g.Ob(),g.Pb(7,"div",5),g.Pb(8,"input",6),g.Xb("ngModelChange",(function(e){return t.listFilter=e})),g.Ob(),g.Ob(),g.Ob(),g.oc(9,k,4,1,"div",7),g.Pb(10,"div",8),g.oc(11,y,19,2,"table",9),g.Ob(),g.Ob(),g.Ob(),g.oc(12,w,2,1,"div",10)),2&e&&(g.Cb(2),g.rc(" ",t.pageTitle," "),g.Cb(6),g.ec("ngModel",t.listFilter),g.Cb(1),g.ec("ngIf",t.listFilter),g.Cb(2),g.ec("ngIf",t.books&&t.books.length),g.Cb(1),g.ec("ngIf",t.errorMessage))},directives:[n.a,n.d,n.g,u.l,u.k,i.i,h,i.g],pipes:[f,u.i,u.c],styles:["thead[_ngcontent-%COMP%]{color:#90f}.spinner[_ngcontent-%COMP%]{font-size:300%;position:absolute;top:50%;left:50%;z-index:10}.fa-spinner[_ngcontent-%COMP%]{-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}"]}),e})();function I(e,t){if(1&e&&(g.Pb(0,"div",7),g.Nb(1,"img",16),g.Ob()),2&e){const e=g.Zb(2);g.Cb(1),g.nc("width",200,"px")("margin",2,"px"),g.ec("src",e.book.imageUrl,g.lc)("title",e.book.bookName)}}const B=function(e){return["/books",e,"edit"]};function N(e,t){if(1&e){const e=g.Qb();g.Pb(0,"div",4),g.Pb(1,"div",5),g.Pb(2,"div",6),g.Pb(3,"div",5),g.Pb(4,"div",7),g.pc(5,"Name:"),g.Ob(),g.Pb(6,"div",6),g.pc(7),g.Ob(),g.Ob(),g.Pb(8,"div",5),g.Pb(9,"div",7),g.pc(10,"Code:"),g.Ob(),g.Pb(11,"div",6),g.pc(12),g.ac(13,"covertToSpaces"),g.ac(14,"lowercase"),g.Ob(),g.Ob(),g.Pb(15,"div",5),g.Pb(16,"div",7),g.pc(17,"Description:"),g.Ob(),g.Pb(18,"div",6),g.pc(19),g.Ob(),g.Ob(),g.Pb(20,"div",5),g.Pb(21,"div",7),g.pc(22,"Availability:"),g.Ob(),g.Pb(23,"div",6),g.pc(24),g.Ob(),g.Ob(),g.Pb(25,"div",5),g.Pb(26,"div",7),g.pc(27,"Price:"),g.Ob(),g.Pb(28,"div",6),g.pc(29),g.ac(30,"currency"),g.Ob(),g.Ob(),g.Pb(31,"div",5),g.Pb(32,"div",7),g.pc(33,"Rating:"),g.Ob(),g.Pb(34,"div",6),g.Nb(35,"bm-star",8),g.Ob(),g.Ob(),g.Pb(36,"div",5),g.Pb(37,"div",9),g.pc(38,"Tags:"),g.Ob(),g.Pb(39,"div",10),g.pc(40),g.Ob(),g.Ob(),g.Ob(),g.oc(41,I,2,6,"div",11),g.Ob(),g.Pb(42,"div",12),g.Pb(43,"div",7),g.Pb(44,"button",13),g.Xb("click",(function(){return g.kc(e),g.Zb().onBack()})),g.Nb(45,"i",14),g.pc(46,"Back"),g.Ob(),g.Pb(47,"button",15),g.pc(48," Edit "),g.Ob(),g.Ob(),g.Ob(),g.Ob()}if(2&e){const e=g.Zb();g.Cb(7),g.qc(e.book.bookName),g.Cb(5),g.qc(g.cc(13,9,g.bc(14,12,e.book.bookCode),"-")),g.Cb(7),g.qc(e.book.description),g.Cb(5),g.qc(e.book.releaseDate),g.Cb(5),g.qc(g.dc(30,14,e.book.price,"INR","symbol","1.2-2")),g.Cb(6),g.ec("rating",e.book.starRating),g.Cb(5),g.qc(e.book.tags),g.Cb(1),g.ec("ngIf",e.book.imageUrl),g.Cb(6),g.ec("routerLink",g.gc(19,B,e.book.id))}}function x(e,t){if(1&e&&(g.Pb(0,"div",17),g.pc(1),g.Ob()),2&e){const e=g.Zb();g.Cb(1),g.rc("",e.errorMessage," ")}}let T=(()=>{class e{constructor(e,t){this.route=e,this.router=t,this.pageTitle="Book Detail",this.errorMessage=""}ngOnInit(){const e=this.route.snapshot.data.resolvedData;this.errorMessage=e.error,this.OnBookRetrieved(e.book)}OnBookRetrieved(e){this.book=e,this.pageTitle=this.book?`Book Detail : ${this.book.bookName}`:"No Book Found"}onBack(){this.router.navigate(["/books"],{queryParamsHandling:"preserve"})}}return e.\u0275fac=function(t){return new(t||e)(g.Mb(i.a),g.Mb(i.f))},e.\u0275cmp=g.Gb({type:e,selectors:[["ng-component"]],decls:6,vars:3,consts:[[1,"card"],[1,"card-header",2,"color","blue"],["class","card-body",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"card-body"],[1,"row"],[1,"col-md-8"],[1,"col-md-4"],[3,"rating"],[1,"col-md-3"],[1,"col-md-6"],["class","col-md-4",4,"ngIf"],[1,"row","mt-4"],[1,"btn","btn-outline-secondary","mr-3",2,"width","80px",3,"click"],[1,"fa","fa-chevron-left"],[1,"btn","btn-outline-primary",2,"width","80px",3,"routerLink"],[1,"center-block","img-responsive",3,"src","title"],[1,"alert","alert-danger"]],template:function(e,t){1&e&&(g.Pb(0,"div",0),g.Pb(1,"div",1),g.Pb(2,"b"),g.pc(3),g.Ob(),g.Ob(),g.oc(4,N,49,21,"div",2),g.Ob(),g.oc(5,x,2,1,"div",3)),2&e&&(g.Cb(3),g.qc(t.pageTitle),g.Cb(1),g.ec("ngIf",t.book),g.Cb(1),g.ec("ngIf",t.errorMessage))},directives:[u.l,h,i.g],pipes:[f,u.i,u.c],styles:[""]}),e})();var _=o("MWqy");const j=function(){return["info"]},F=function(e){return{"fa fa-exclamation":e}},S=function(){return["tags"]},q=function(){return["/books"]};function D(e,t){if(1&e){const e=g.Qb();g.Pb(0,"div",4),g.Pb(1,"div",5),g.Pb(2,"a",6),g.pc(3," Basic Information"),g.Nb(4,"span",7),g.Ob(),g.Pb(5,"a",6),g.pc(6," Search Tags"),g.Nb(7,"span",7),g.Ob(),g.Ob(),g.Nb(8,"router-outlet"),g.Pb(9,"div",8),g.Pb(10,"div",9),g.Pb(11,"button",10),g.Xb("click",(function(){return g.kc(e),g.Zb().saveBook()})),g.pc(12," Save "),g.Ob(),g.Pb(13,"button",11),g.pc(14," Cancel "),g.Ob(),g.Pb(15,"button",12),g.Xb("click",(function(){return g.kc(e),g.Zb().deleteBook()})),g.pc(16," Delete "),g.Ob(),g.Ob(),g.Ob(),g.Ob()}if(2&e){const e=g.Zb();g.Cb(2),g.ec("routerLink",g.fc(6,j)),g.Cb(2),g.ec("ngClass",g.gc(7,F,!e.isValid("info"))),g.Cb(1),g.ec("routerLink",g.fc(9,S)),g.Cb(2),g.ec("ngClass",g.gc(10,F,!e.isValid("tags"))),g.Cb(4),g.ec("disabled",!e.isValid()),g.Cb(2),g.ec("routerLink",g.fc(12,q))}}function $(e,t){if(1&e&&(g.Pb(0,"div",13),g.pc(1),g.Ob()),2&e){const e=g.Zb();g.Cb(1),g.rc("",e.errorMessage,"\n")}}let z=(()=>{class e{constructor(e,t,o,r){this.bookService=e,this.messageService=t,this.route=o,this.router=r,this.pageTitle="Edit Book Detail",this.dataIsValid={}}get isDirty(){return JSON.stringify(this.originalBook)!==JSON.stringify(this.currentBook)}get book(){return this.currentBook}set book(e){this.currentBook=e,this.originalBook=e?Object.assign({},e):null}ngOnInit(){this.route.data.subscribe(e=>{const t=e.resolvedData;this.errorMessage=t.error,this.displayBook(t.book)})}displayBook(e){this.book=e,this.pageTitle=this.book?0===this.book.id?"Add Book":`Edit Book: ${this.book.bookName}`:"No Book Found"}deleteBook(){0===this.book.id?this.onSaveComplete(`${this.book.bookName} was deleted`):confirm(`Really delete the book: ${this.book.bookName}?`)&&this.bookService.deleteBook(this.book.id).subscribe({next:()=>this.onSaveComplete(`${this.book.bookName} was deleted`),error:e=>this.errorMessage=e})}isValid(e){return this.validate(),e?this.dataIsValid[e]:this.dataIsValid&&Object.keys(this.dataIsValid).every(e=>!0===this.dataIsValid[e])}reset(){this.dataIsValid=null,this.currentBook=null,this.originalBook=null}saveBook(){this.isValid()?0===this.book.id?this.bookService.createBook(this.book).subscribe({next:()=>this.onSaveComplete(`The new ${this.book.bookName} book was saved`),error:e=>this.errorMessage=e}):this.bookService.updateBook(this.book).subscribe({next:()=>this.onSaveComplete(`The new ${this.book.bookName} book was updated`),error:e=>this.errorMessage=e}):this.errorMessage="Please correct the validation errors."}onSaveComplete(e){e&&this.messageService.addMessage(e),this.reset(),this.router.navigate(["/books"])}validate(){this.dataIsValid={},this.dataIsValid.info=!!(this.book.bookName&&this.book.bookName.length>=3&&this.book.bookCode),this.dataIsValid.tags=!!(this.book.category&&this.book.category.length>=3)}}return e.\u0275fac=function(t){return new(t||e)(g.Mb(p),g.Mb(_.a),g.Mb(i.a),g.Mb(i.f))},e.\u0275cmp=g.Gb({type:e,selectors:[["ng-component"]],decls:6,vars:3,consts:[[1,"card"],[1,"card-header",2,"color","blue"],["class","card-body",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"card-body"],[1,"wizard"],["routerLinkActive","active",3,"routerLink"],[3,"ngClass"],[1,"row-mb-2"],[1,"col-md-8"],["type","button","title","isValid() ? 'Save your entered data' : 'Disabled until the form data is valid'",1,"btn","btn-primary","mr-3",2,"width","80px",3,"disabled","click"],["type","button","title","Cancel your edits",1,"btn","btn-outline-secondary","mr-3",2,"width","80px",3,"routerLink"],["type","button","title","Delete this book",1,"btn","btn-outline-warning","mr-3",2,"width","80px",3,"click"],[1,"alert","alert-danger"]],template:function(e,t){1&e&&(g.Pb(0,"div",0),g.Pb(1,"div",1),g.Pb(2,"b"),g.pc(3),g.Ob(),g.Ob(),g.oc(4,D,17,13,"div",2),g.Ob(),g.oc(5,$,2,1,"div",3)),2&e&&(g.Cb(3),g.qc(t.pageTitle),g.Cb(1),g.ec("ngIf",t.book),g.Cb(1),g.ec("ngIf",t.errorMessage))},directives:[u.l,i.i,i.h,u.j,i.k,i.g],styles:['.fa-exclamation[_ngcontent-%COMP%]{color:red}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#efefef;display:inline-block;margin-right:5px;min-width:150px;outline:none;padding:10px 40px;position:relative;text-decoration:none}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{border-left:20px solid #fff;left:0}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after, .wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{width:0;height:0;border-top:20px inset transparent;border-bottom:24px inset transparent;position:absolute;content:"";top:0}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{border-left:21px solid #efefef;right:-20px;z-index:2}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child:before, .wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child:after{border:none}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{border-radius:8px 0 0 0}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-radius:0 8px 0 0}.wizard[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#007acc;color:#fff}.wizard[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]:after{border-left-color:#007acc}']}),e})(),L=(()=>{class e{constructor(e){this.bookService=e}resolve(e,t){const o=e.paramMap.get("id");if(isNaN(+o)){const e=`Book id was not a number ${o}`;return console.error(e),Object(s.a)({book:null,error:e})}return this.bookService.getBook(+o).pipe(Object(d.a)(e=>({book:e})),Object(l.a)(e=>{const t=`Retrieved error : ${e}`;return console.error(t),Object(s.a)({book:null,error:t})}))}}return e.\u0275fac=function(t){return new(t||e)(g.Tb(p))},e.\u0275prov=g.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function R(e,t){1&e&&(g.Pb(0,"span"),g.pc(1," Book Name is required "),g.Ob())}function V(e,t){1&e&&(g.Pb(0,"span"),g.pc(1," Book name must be atleast three characters "),g.Ob())}function Z(e,t){1&e&&(g.Pb(0,"span"),g.pc(1," Book Code is required "),g.Ob())}function X(e,t){if(1&e&&(g.Pb(0,"div",16),g.pc(1),g.Ob()),2&e){const e=g.Zb();g.Cb(1),g.rc("",e.errorMessage,"\n")}}const E=function(e){return{"is-invalid":e}};let A=(()=>{class e{constructor(e){this.route=e}ngOnInit(){this.route.parent.data.subscribe(e=>{this.bookForm&&this.bookForm.reset(),this.book=e.resolvedData.book})}}return e.\u0275fac=function(t){return new(t||e)(g.Mb(i.a))},e.\u0275cmp=g.Gb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){var o;1&e&&g.sc(n.f,!0),2&e&&g.ic(o=g.Yb())&&(t.bookForm=o.first)},decls:29,vars:13,consts:[[1,"card-body"],["novalidate",""],["bookForm","ngForm"],[1,"form-group","row"],["for","bookNameId",1,"col-md-2","col-form-label"],[1,"col-md-8"],["id","bookNameId","type","text","placeholder","Name (required)","required","","minlength","3","name","bookName",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["bookNameVar","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],["for","bookCodeId",1,"col-md-2","col-form-label"],["id","bookCodeId","type","text","placeholder","Code (required)","required","","name","bookCode",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["bookCodeVar","ngModel"],["for","descriptionId",1,"col-md-2","col-form-label"],["id","descriptionId","placeholder","Description","rows","3","name","description",1,"form-control",3,"ngModel","ngModelChange"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"]],template:function(e,t){if(1&e&&(g.Pb(0,"div",0),g.Pb(1,"form",1,2),g.Pb(3,"fieldset"),g.Pb(4,"legend"),g.pc(5,"Basic Book Information"),g.Ob(),g.Pb(6,"div",3),g.Pb(7,"label",4),g.pc(8,"Book Name"),g.Ob(),g.Pb(9,"div",5),g.Pb(10,"input",6,7),g.Xb("ngModelChange",(function(e){return t.book.bookName=e})),g.Ob(),g.Pb(12,"span",8),g.oc(13,R,2,0,"span",9),g.oc(14,V,2,0,"span",9),g.Ob(),g.Ob(),g.Ob(),g.Pb(15,"div",3),g.Pb(16,"label",10),g.pc(17,"Book Code"),g.Ob(),g.Pb(18,"div",5),g.Pb(19,"input",11,12),g.Xb("ngModelChange",(function(e){return t.book.bookCode=e})),g.Ob(),g.Pb(21,"span",8),g.oc(22,Z,2,0,"span",9),g.Ob(),g.Ob(),g.Ob(),g.Pb(23,"div",3),g.Pb(24,"label",13),g.pc(25,"Description"),g.Ob(),g.Pb(26,"div",5),g.Pb(27,"textarea",14),g.Xb("ngModelChange",(function(e){return t.book.description=e})),g.Ob(),g.Ob(),g.Ob(),g.Ob(),g.Ob(),g.Ob(),g.oc(28,X,2,1,"div",15)),2&e){const e=g.jc(11),o=g.jc(20);g.Cb(10),g.ec("ngModel",t.book.bookName)("ngClass",g.gc(9,E,e.touched||e.dirty||0!==t.book.id)&&!e.valid),g.Cb(3),g.ec("ngIf",null==e.errors?null:e.errors.required),g.Cb(1),g.ec("ngIf",null==e.errors?null:e.errors.minlength),g.Cb(5),g.ec("ngModel",t.book.bookCode)("ngClass",g.gc(11,E,(o.touched||o.dirty||0!==t.book.id)&&!o.valid)),g.Cb(3),g.ec("ngIf",null==o.errors?null:o.errors.required),g.Cb(5),g.ec("ngModel",t.book.description),g.Cb(1),g.ec("ngIf",t.errorMessage)}},directives:[n.j,n.e,n.f,n.a,n.i,n.c,n.d,n.g,u.j,u.l],encapsulation:2}),e})();function U(e,t){1&e&&(g.Pb(0,"span"),g.pc(1," A category must be entered "),g.Ob())}function J(e,t){1&e&&(g.Pb(0,"span"),g.pc(1," The category must be at least 3 characters in length "),g.Ob())}function Q(e,t){if(1&e){const e=g.Qb();g.Pb(0,"span"),g.Pb(1,"button",17),g.Xb("click",(function(){g.kc(e);const o=t.index;return g.Zb().removeTag(o)})),g.pc(2),g.Nb(3,"span",18),g.Ob(),g.Ob()}if(2&e){const e=t.$implicit;g.Cb(2),g.rc(" ",e," ")}}function G(e,t){if(1&e&&(g.Pb(0,"div",19),g.pc(1),g.Ob()),2&e){const e=g.Zb();g.Cb(1),g.rc("",e.errorMessage,"\n")}}const W=function(e){return{"is-invalid":e}};let H=(()=>{class e{constructor(e){this.route=e,this.newTags=""}ngOnInit(){this.route.parent.data.subscribe(e=>{this.book=e.resolvedData.book})}addTags(){if(this.newTags){const e=this.newTags.split(",");this.book.tags=this.book.tags?this.book.tags.concat(e):e,this.newTags="",this.errorMessage=""}else this.errorMessage="Enter the search keywords separated by commas and then press Add"}removeTag(e){this.book.tags.splice(e,1)}}return e.\u0275fac=function(t){return new(t||e)(g.Mb(i.a))},e.\u0275cmp=g.Gb({type:e,selectors:[["ng-component"]],decls:26,vars:9,consts:[[1,"card-body"],["novalidate",""],[1,"form-group","row"],["for","categoryId",1,"col-md-2","col-form-label"],[1,"col-md-8"],["id","categoryId","type","text","placeholder","Category(required)","required","","minlength","3","name","category",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["categoryVar","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],["for","tagsId",1,"col-md-2","col-form-label"],["type","text","id","tagsId","placeholder","Search Keywords Seperated By Commas","name","tags",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-1"],["type","button","title","Enter the search keywords separated by commas and then press Add",1,"btn","btn-outline-primary",3,"click"],[1,"row"],[1,"col-md-8","offset-md-2"],[4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],["title","click to remove this tag",1,"btn","btn-outline-secondary",2,"font-size","smaller","margin-bottom","12px","margin-right","2px",3,"click"],[1,"fa","fa-times-circle"],[1,"alert","alert-danger"]],template:function(e,t){if(1&e&&(g.Pb(0,"div",0),g.Pb(1,"form",1),g.Pb(2,"fieldset"),g.Pb(3,"legend"),g.pc(4,"Book Search Tags"),g.Ob(),g.Pb(5,"div",2),g.Pb(6,"label",3),g.pc(7,"Category"),g.Ob(),g.Pb(8,"div",4),g.Pb(9,"input",5,6),g.Xb("ngModelChange",(function(e){return t.book.category=e})),g.Ob(),g.Pb(11,"span",7),g.oc(12,U,2,0,"span",8),g.oc(13,J,2,0,"span",8),g.Ob(),g.Ob(),g.Ob(),g.Pb(14,"div",2),g.Pb(15,"label",9),g.pc(16,"Search Tags"),g.Ob(),g.Pb(17,"div",4),g.Pb(18,"input",10),g.Xb("ngModelChange",(function(e){return t.newTags=e})),g.Ob(),g.Ob(),g.Pb(19,"div",11),g.Pb(20,"button",12),g.Xb("click",(function(){return t.addTags()})),g.pc(21," Add "),g.Ob(),g.Ob(),g.Ob(),g.Pb(22,"div",13),g.Pb(23,"div",14),g.oc(24,Q,4,1,"span",15),g.Ob(),g.Ob(),g.Ob(),g.Ob(),g.Ob(),g.oc(25,G,2,1,"div",16)),2&e){const e=g.jc(10);g.Cb(9),g.ec("ngModel",t.book.category)("ngClass",g.gc(7,W,(e.touched||e.dirty||0!==t.book.id)&&!e.valid)),g.Cb(3),g.ec("ngIf",null==e.errors?null:e.errors.required),g.Cb(1),g.ec("ngIf",null==e.errors?null:e.errors.minlength),g.Cb(5),g.ec("ngModel",t.newTags),g.Cb(6),g.ec("ngForOf",t.book.tags),g.Cb(1),g.ec("ngIf",t.errorMessage)}},directives:[n.j,n.e,n.f,n.a,n.i,n.c,n.d,n.g,u.j,u.l,u.k],encapsulation:2}),e})(),K=(()=>{class e{canDeactivate(e,t,o,r){return!e.isDirty||confirm(`Navigate away and loose all changes to ${e.book.bookName||"New Product"}?`)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=g.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();o.d(t,"BookModule",(function(){return Y}));let Y=(()=>{class e{}return e.\u0275mod=g.Kb({type:e}),e.\u0275inj=g.Jb({factory:function(t){return new(t||e)},imports:[[r.a,n.h,i.j.forChild([{path:"",component:M},{path:":id",component:T,resolve:{resolvedData:L}},{path:":id/edit",component:z,canDeactivate:[K],resolve:{resolvedData:L},children:[{path:"",redirectTo:"info",pathMatch:"full"},{path:"info",component:A},{path:"tags",component:H}]}])]]}),e})()}}]);